<html xmlns:th="http://www.thymeleaf.org">
<head th:include="layout :: head(title=~{::title},links=~{})">
<title>Spring Security MVC</title>
<!-- Bootstrap CSS -->
<link rel="stylesheet" type="text/css" href="login.css">
<link rel="shortcut icon" href="bulb.ico" />
</head>
<body>

	<div class="wrapper fadeInDown">
		<div id="formContent">
			<!-- Tabs Titles -->

			<!-- Icon -->
			<div class="fadeIn first"><br>
				<h1>Spring Security MVC</h1>
			</div>

			<div class="row" style="display:flex;">
			<!-- Login Form -->
			<form id="f" name="f" action="/perform_login" method="POST">
				<input type="text" id="login" class="fadeIn second" name="username" placeholder="User Id <prxxx>" maxlength="5" pattern=".{5,5}" 
				required oninvalid="this.setCustomValidity('Kindly Enter user id <prxxx>')" oninput="this.setCustomValidity('')">
				<input type="password" id="password" class="fadeIn third" name="password" placeholder="password" 
				required oninvalid="this.setCustomValidity('Kindly Enter Password')" oninput="this.setCustomValidity('')" > 
				<input type="submit" class="fadeIn fourth" value="Log In">
			</form>
			</div>
			<div id="errorMsg" class="errorMsg"></div>
			<!-- Remind Passowrd -->
			<div id="formFooter">
				<a class="underlineHover">Company Website</a>
			</div>
			
		</div>
	</div>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
		
	<script type="text/javascript">
	// Parse the URL parameter
	function getParameterByName(name, url) {
	    if (!url) url = window.location.href;
	    name = name.replace(/[\[\]]/g, "\\$&");
	    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
	        results = regex.exec(url);
	    if (!results) return null;
	    if (!results[2]) return '';
	    return decodeURIComponent(results[2].replace(/\+/g, " "));
	}
	// Give the parameter a variable name
	var dynamicContent = getParameterByName('error');
	$(document).ready(function() {
		// Check if the URL parameter is apples
		if (dynamicContent != null) {
			$('#errorMsg').html(dynamicContent+"<br><br>");
			$('#errorMsg').show();
		} 
		
		$('#f').submit(function() {
			var encodePass = btoa($("#password").val());
		    $("#password").val(encodePass);
		    return true;
		});
	});
	</script>
</body>
</html>